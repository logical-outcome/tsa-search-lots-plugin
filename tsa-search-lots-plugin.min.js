document.addEventListener("DOMContentLoaded",(function(){let isMatch=!1;function resetLots(lots,msg){for(lot of lots)lot.classList.remove("hidden"),lot.classList.remove("active"),msg.innerHTML='<h3 id="nolot">We are sorry! There appears to be no inventory near this zip code.</h3><p>Please use the chat at the lower right to inquire about a building for you.</p>'}for(lot of(document.getElementById("zipform")&&(document.getElementById("zipform").addEventListener("submit",(function(e){e.preventDefault()})),document.getElementById("zipform").addEventListener("keyup",(function(e){e.preventDefault();const icon=document.getElementById("working-icon");icon.className="show-working";const sto=setTimeout(()=>{icon.classList.remove("show-working")},5e3);let zip=document.getElementById("zipcode").value,distance="undefinded"==document.getElementById("lot-distance").value?50:document.getElementById("lot-distance").value,msg=document.getElementById("notice"),status=!1,lots=document.getElementById("inventory-list").getElementsByTagName("li");if(zip.length<5)return resetLots(lots,msg),!1;fetch("https://www.zipcodeapi.com/rest/js-qo2cagfhXO7BETNGCSEIED8RyQuFSIcjajp4f6kUjbpPgeVB4RQvLgEjManhBbQy/radius.json/"+zip+"/"+distance+"/miles?minimal").then(response=>response.json()).then(data=>{if(Object.keys(data).length&&data.error_msg)return msg.innerHTML='<h3 id="error">Sorry, and error has occured. This appears to be an incorrect zip code.</h3>',!1;for(lot of(clearTimeout(sto),data.zip_codes.push(zip),lots)){lot.classList.remove("active"),lot.classList.remove("hidden"),data.zip_codes.includes(lot.getAttribute("zip"))?(status=!0,lot.className="active"):lot.className="hidden";let storeId=lot.getAttribute("storeid");lot.children[1].firstChild.setAttribute("href","https://app.montanashedcenter.com/inventory-storefront?store_id="+storeId)}!1===status&&resetLots(lots,msg),!0===status&&(msg.innerHTML="")})}))),document.getElementsByClassName("alot")))lot.addEventListener("click",(function(e){if(!e.currentTarget.classList.contains("active")){const li=e.currentTarget.classList;li.add("dontclick"),setTimeout(()=>{removeDontClick(li)},5e3)}}));function removeDontClick(li){li.remove("dontclick")}}));